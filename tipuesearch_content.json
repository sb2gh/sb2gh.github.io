{"pages":[{"url":"http://sb2gh.github.io/pelican-blog.html","text":"In this post we create a static blog using pelican with the pelican theme 'Elegant' and host the blog on github user pages Environment set-up We first create a virtualenv that will contains all the necessary packages for python pelican. bm@Work ~/webbloggh - $ mkvirtualenv venv-pel bm@Work ~/webbloggh - $ source ~/.virtualenvs/venv-pel/bin/activate (venv-pel) bm@Work ~/webbloggh - $ pip install pelican, markdown, ghp-import, beautifulSoup4, cssmin, Pillow, cssprefixer, cssutils, pretty, six, smartypants, typogrify, webassets testing sub In order to have webassets working properly, we need to install lessc (note: if you won't use webassets, you should be able to skip this step). The only simple way I found to make it work was to install nodeenv. (venv-pel) bm@Work ~/webbloggh - $ pip install nodeenv (venv-pel) bm@Work ~/webbloggh - $ nodeenv --python-virtualenv (venv-pel) bm@Work ~/webbloggh - $ npm install less Create the blog with Pelican Now that all the necessary packages are installed, we can launch pelican to set up the static blog (venv-pel) bm@Work ~/webbloggh - $ pelican-quickstart We have to answer numerous questions to have pelican do the set-up. > Where do you want to create your new web site? [.] > What will be the title of this web site? blog depuzzled > Who will be the author of this web site? depuzzled > What will be the default language of this web site? [en] > Do you want to specify a URL prefix? e.g., http://example.com (Y/n) > What is your URL prefix? (see above example; no trailing slash) http://sb2gh.github.io > Do you want to enable article pagination? (Y/n) > How many articles per page do you want? [10] > What is your time zone? [Europe/Paris] US/Eastern > Do you want to generate a Fabfile/Makefile to automate generation and publishing? (Y/n) > Do you want an auto-reload & simpleHTTP script to assist with theme and site development? (Y/n) > Do you want to upload your website using FTP? (y/N) > Do you want to upload your website using SSH? (y/N) > Do you want to upload your website using Dropbox? (y/N) > Do you want to upload your website using S3? (y/N) > Do you want to upload your website using Rackspace Cloud Files? (y/N) > Do you want to upload your website using GitHub Pages? (y/N) y > Is this your personal page (username.github.io)? (y/N) y Done. Your new project is available at /Users/bm/webblog Here is the tree structure (brew tree; tree -L 1) ├── Makefile ├── content ├── develop_server.sh ├── fabfile.py ├── less.js ├── node_modules ├── output ├── pelican.pid ├── pelicanconf.py ├── pelicanconf.pyc ├── plugins ├── publishconf.py ├── publishconf.pyc └── themes Adding Theme and Plugins We can choose the default theme of pelican or pick one that is available at http://www.pelicanthemes.com . In this post, we are using the theme named 'Elegant'. We need to download the theme that we want use and put it in a folder named 'themes' at the root of our blog. We are also going to add the different plugins that we want use such as the one for generating the table of content. We can get pelican plugins by cloning the following repo: https://github.com/getpelican/pelican-plugins.git . We need to make sure that the plugins are in a folder named 'plugins' at the root of our blog. Once the theme and plugins are installed at the root of our blog, we need to edit the pelicanconf.py file to add the following information: 1 2 3 4 THEME = 'themes/elegant' MD_EXTENSIONS = [ 'codehilite(css_class=highlight)' , 'extra' , 'headerid' , 'toc(permalink=true)' ] PLUGIN_PATHS = [ 'plugins' , 'pelican-pluggins-master' ] PLUGINS = [ 'sitemap' , 'extract_toc' , 'tipue_search' , 'liquid_tags.img' , 'neighbors' , 'latex' , 'related_posts' , 'assets' , 'share_post' , 'multi_part' ] We can now generate the output directory and check out blog at: localhost:8000. The command make devserver will generate the static blog in the output directory. The command . develop_server.sh stop will stop the server. (venv-pel) bm@Work ~/webbloggh - $ make devserver (venv-pel) bm@Work ~/webbloggh - $ . develop_server.sh stop Adding comments through DISQUS To add comment capabilities to our blog, we can register with disqus. Make sure you fill the website url - in this case: blog.depuzzled.com. We call the website short name: blogdepuzzled. To test locally, we need to make sure that 2 variables are properly set in pelicanconf.py . SITEURL must be set such as SITEURL = 'http://localhost:8000' and DISQUS_SITENAME such that DISQUS_SITENAME = \"blogdepuzzled\" . Hosting on github user pages Github users can host their blog on github user pages. In order to do this, we must create a new repository named: username.github.io where username is our github username. On our local machine and at the root of our blog, we create a git repository ( git init ), all the files ( git add -A ) and push them to our github account by using the pelican command: make github . We can now look at the blog at username.github.io Using custom domain We are using godaddy.com. We need to create a new CNAME in records. Host will be set to blog and points to will be your github page username.github.io . Next we need to create a file named CNAME in content/extra . This file will contain one line: www.blog.yourwebsitename.com . In pelicanconf.py we need to add the path content/extra to STATIC_PATHS ( STATIC_PATHS = ['extra/CNAME'] ) and EXTRA_PATH_METADATA = {'extra/CNAME': {'path': 'CNAME'},} . Adding jupyter notebooks It is straightforward to add a jupyter notebook thanks to a plugin found at https://github.com/danielfrg/pelican-ipynb . The instructions are clear and simple. Appendix We used the pelican plugin ( https://github.com/talha131/pelican-elegant ; branch: upgrade-bootstrap-agnostically ) for this blog. We only perform very few modifications to the template: base.html : include elegant.css at line 40 elegant.css : changed various fonts References http://simonsblog.co.uk/static-site-generator-pelican.html https://github.com/noirbizarre/pelican-social https://github.com/getpelican/pelican/wiki/Externally-hosted-plugins-and-tools https://github.com/getpelican/pelican/wiki/Powered-by-Pelican http://blog.getpelican.com/author/kyle-fuller.html http://oncrashreboot.com/elegant-best-pelican-theme-features http://querbalken.net/howto-setup-comments-with-disqus-in-pelican-en.html https://fedoramagazine.org/make-github-pages-blog-with-pelican/ http://mathamy.com/migrating-to-github-pages-using-pelican.html http://terriyu.info/blog/posts/2013/07/pelican-setup/ http://nafiulis.me/making-a-static-blog-with-pelican.html http://vuongnguyen.com/creating-blog-python-virtualenv-pelican.html http://www.notionsandnotes.org/tech/web-development/pelican-static-blog-setup.html http://doctrina.org/Plugin-For-Pelican-To-Enable-Latex.html https://github.com/danielfrg/pelican-ipynb","tags":"Pelican","title":"Creating a Static Blog with Pelican and hosting it on github user pages"},{"url":"http://sb2gh.github.io/pca.html","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI colors. */ .ansibold { font-weight: bold; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; border-left-width: 1px; padding-left: 5px; background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%); } div.cell.jupyter-soft-selected { border-left-color: #90CAF9; border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected { border-color: #ababab; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%); } @media print { div.cell.selected { border-color: transparent; } } div.cell.selected.jupyter-soft-selected { border-left-width: 0; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%); } .edit_mode div.cell.selected { border-color: #66BB6A; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%); } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } @-moz-document url-prefix() { div.inner_cell { overflow-x: hidden; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ padding: 0.4em; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */ /* .CodeMirror-lines */ padding: 0; border: 0; border-radius: 0; } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html td, .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight .hll { background-color: #ffffcc } .highlight { background: #f8f8f8; } .highlight .c { color: #408080; font-style: italic } /* Comment */ .highlight .err { border: 1px solid #FF0000 } /* Error */ .highlight .k { color: #008000; font-weight: bold } /* Keyword */ .highlight .o { color: #666666 } /* Operator */ .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight .gd { color: #A00000 } /* Generic.Deleted */ .highlight .ge { font-style: italic } /* Generic.Emph */ .highlight .gr { color: #FF0000 } /* Generic.Error */ .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight .gi { color: #00A000 } /* Generic.Inserted */ .highlight .go { color: #888888 } /* Generic.Output */ .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight .gs { font-weight: bold } /* Generic.Strong */ .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight .gt { color: #0044DD } /* Generic.Traceback */ .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight .kp { color: #008000 } /* Keyword.Pseudo */ .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight .kt { color: #B00040 } /* Keyword.Type */ .highlight .m { color: #666666 } /* Literal.Number */ .highlight .s { color: #BA2121 } /* Literal.String */ .highlight .na { color: #7D9029 } /* Name.Attribute */ .highlight .nb { color: #008000 } /* Name.Builtin */ .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight .no { color: #880000 } /* Name.Constant */ .highlight .nd { color: #AA22FF } /* Name.Decorator */ .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight .nf { color: #0000FF } /* Name.Function */ .highlight .nl { color: #A0A000 } /* Name.Label */ .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight .nv { color: #19177C } /* Name.Variable */ .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight .w { color: #bbbbbb } /* Text.Whitespace */ .highlight .mb { color: #666666 } /* Literal.Number.Bin */ .highlight .mf { color: #666666 } /* Literal.Number.Float */ .highlight .mh { color: #666666 } /* Literal.Number.Hex */ .highlight .mi { color: #666666 } /* Literal.Number.Integer */ .highlight .mo { color: #666666 } /* Literal.Number.Oct */ .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight .sc { color: #BA2121 } /* Literal.String.Char */ .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight .sx { color: #008000 } /* Literal.String.Other */ .highlight .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight .ss { color: #19177C } /* Literal.String.Symbol */ .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight .vc { color: #19177C } /* Name.Variable.Class */ .highlight .vg { color: #19177C } /* Name.Variable.Global */ .highlight .vi { color: #19177C } /* Name.Variable.Instance */ .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */ /* Temporary definitions which will become obsolete with Notebook release 5.0 */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-bold { font-weight: bold; } In [32]: % matplotlib inline import numpy as np import pandas as pd from sklearn.datasets import load_digits In [2]: a = np . random . rand () print a 0.673294274463 In [4]: df = pd . DataFrame () In [6]: digits = load_digits () In [90]: X_digits , y_digits = digits . data , digits . target images = digits . images print digits . keys () print 'X_digits shape: ' + str ( X_digits . shape ) ['images', 'data', 'target_names', 'DESCR', 'target'] X_digits shape: (1797, 64) In [111]: import matplotlib.pyplot as plt n_row , n_col = 2 , 5 n_components = 10 In [54]: def print_digits ( images , y , max_n = 10 ): # set up the figure size in inches fig = plt . figure ( figsize = ( 2. * n_col , 2.26 * n_row )) i = 0 while i < max_n and i < images . shape [ 0 ]: p = fig . add_subplot ( n_row , n_col , i + 1 , xticks = [], yticks = []) p . imshow ( images [ i ], cmap = plt . cm . bone , interpolation = 'nearest' ) # label the image with the target value p . text ( 0 , - 1 , str ( y [ i ])) i = i + 1 print_digits ( digits . images , digits . target , max_n = 10 ) plt . show () print 'X_digits shape: ' + str ( X_digits . shape ) print X_digits X_digits shape: (1797, 64) [[ 0. 0. 5. ..., 0. 0. 0.] [ 0. 0. 0. ..., 10. 0. 0.] [ 0. 0. 0. ..., 16. 9. 0.] ..., [ 0. 0. 1. ..., 6. 0. 0.] [ 0. 0. 2. ..., 12. 0. 0.] [ 0. 0. 10. ..., 12. 1. 0.]] In [88]: from sklearn.decomposition import PCA estimator = PCA ( n_components = 10 ) X_pca = estimator . fit_transform ( X_digits ) print type ( X_pca ) print 'PCA shape:' + str ( X_pca . shape ) #print np.array_str(X_pca[0:15], precision=1, suppress_small=True, max_line_width=220) np . set_printoptions ( threshold = np . inf ) print np . array_str (( np . column_stack (( X_pca , y_digits ))[ y_digits == 0 ]), precision = 1 , suppress_small = True , max_line_width = 220 ) #print np.array_str((np.column_stack((X_pca, y_digits))[y_digits==0]), precision=1, suppress_small=True, max_line_width=220) PCA shape:(1797, 10) [[ 3. 21.1 12.3 -10.4 6.2 12.7 -8.6 2. -4. -10.7 7. ] [ -5.6 12.9 13. -1.4 7.6 5.7 -1.5 -1.7 2.7 9.1 7. ] [ -4.8 5.2 27.3 6.2 -0.9 8. -2.8 -0.5 9.1 -0.5 7. ] [ -5.7 10.4 21. -1.3 -0. 12.3 -1.1 -1.4 2.6 -2.1 7. ] [ 3.6 18.9 14.2 -13.9 11.1 10.6 -12.5 -1.9 -2.7 -0.6 7. ] [ -6.9 13.3 24.4 -8.6 2.8 9.8 -1.4 0.2 5.6 2.2 7. ] [ -4.8 11.7 14.1 -6.2 17. 4. 3.1 -5.8 9.3 11.5 7. ] [ -1.3 19.6 16.2 -6.1 8.3 5.9 -7. -1. -2.1 4.4 7. ] [ -6.5 3.7 22.5 -3.6 5.1 9.8 4.2 -1.4 15.6 -1.8 7. ] [ 0.2 17.5 9.4 -8. 10.2 11. 1.3 -3.4 1.6 8. 7. ] [ -3.7 11.3 17.3 -2.9 11.4 10. 2.2 -4.5 4.7 2.7 7. ] [ -2.4 17.7 12.4 -9.2 11.5 8.2 -5.8 0.3 -3.3 7.5 7. ] [ -0.3 15.9 13.4 -13.5 17.6 12.7 -6.6 -0.1 3.5 0.7 7. ] [ -1.1 18. 9.3 -2.6 19.6 9.7 5.2 -8.5 -0.9 3.4 7. ] [ -4.9 20.4 3.4 -0.7 12.8 5.4 4.4 -12.1 1.5 9.2 7. ] [ -3.9 19.6 -1.4 -6.2 15. 4.3 -8.7 -16.8 -2.6 2.8 7. ] [ -0.1 20. 22.4 -9.4 5.8 10.8 -1.1 -0.1 5.4 -0.1 7. ] [ 2.2 19.5 16.7 -6.1 7.4 10.1 6.4 3.9 1.6 2.7 7. ] [ -0.8 22.2 6.8 -1.5 12.5 9.6 0.5 -10.3 -3.5 1.5 7. ] [ -8.9 21.1 -6.8 -3.7 4.4 4.7 -6.3 -21.9 -7.6 -1.1 7. ] [ -1.1 23.6 0.9 -1. 5.5 0.5 -7.9 -10. -15. -1. 7. ] [ -5.7 19.8 -5.9 -0.8 11. 6.1 -3.6 -20.1 -2.6 4.3 7. ] [ 1.6 21.8 16.9 -8.9 16.1 11.4 -0. 2.4 2.9 -2.4 7. ] [ 0.2 20.9 2.7 -8.1 19.4 4.5 -9. -10.4 -1.2 4.6 7. ] [ -5.5 20.5 -3. -0.8 12.3 8.7 -2.3 -17.8 -3.7 -1.5 7. ] [ 5.7 22.4 19.1 -9.1 8.4 14.6 -3.5 0.7 0.6 -3.7 7. ] [ -1.1 17.8 7.4 -8.9 9.8 11.8 -7.2 -6.5 -2.4 -0.1 7. ] [ -7.5 14.4 19.8 -12.6 13.8 13. 2.9 2.4 11.2 -2.9 7. ] [ 4.2 17.7 4.2 -8. 11.4 13.7 -8.4 -7.8 -2.3 -3.1 7. ] [ -1.4 13.7 21.7 -8. 5.3 14.8 8.9 3.1 7.8 -1.1 7. ] [ 5.3 19.6 23.2 -1.7 4.6 9.1 4.6 2.4 3.4 0. 7. ] [ -1.9 16.7 19.7 -9.8 2.8 18.1 7. -2.2 7.7 -5.8 7. ] [ -2.6 14.3 11.4 -8.1 8.6 7.7 0.7 5.4 7.5 9.6 7. ] [ -1. 14.2 10.8 -7.9 18.4 8.2 -0.7 -0.7 8.2 6.4 7. ] [ 2. 17.4 -1.6 -7.4 17. 10.4 -3.5 -10.2 -0.2 2.8 7. ] [ -4.4 17. -3.7 -2.3 14.9 5.9 -6.9 -15.5 8.6 1.2 7. ] [ -0.1 16. 12.6 -5.9 18. 8.5 0.1 -0.7 5.9 8.3 7. ] [ -5.2 11.9 21.3 -7.2 13.8 8.5 6.7 4. 9. 0.7 7. ] [ -2.6 8.6 18.9 -10. -1.1 -1.4 17.3 4.3 -7.4 -2.7 7. ] [ -3.4 5.5 20.8 -10.4 -3.9 4.5 13.9 5.3 -9.7 -9.4 7. ] [ -6.2 4.7 17.7 -12.8 -8.7 3.6 12.6 4.8 -8.8 -10.5 7. ] [ -7.2 1.9 25.4 -11. -6.9 3.4 15.3 4.7 -3.9 -7. 7. ] [ 4.4 16.6 12.4 -17. 0.5 0.9 2.3 12.9 -9.3 2.6 7. ] [ -2.5 7.1 19.2 -12.4 -5.2 2.5 12.5 6.3 -7.8 -6.2 7. ] [ -6.2 0.6 21.7 -10.6 -11.2 5.7 15.6 0.7 -3.9 -14.5 7. ] [ -8.8 -0.7 23.3 -11.4 -8.9 2.1 13.2 0.2 -3.3 -12. 7. ] [ 5.3 14.1 11.6 -12.2 3.3 7.5 8.4 4.4 -7.4 -6.7 7. ] [ 1.5 2.3 22.3 -10. -6.1 -2.3 15. 9.9 -5.7 0.8 7. ] [ -4.8 6.2 22.5 -12.7 -8.7 4.3 12.3 4.5 -5.8 -9. 7. ] [ -2.9 2.3 20.3 -10.3 -9.1 0.2 13.1 5.5 -9.9 -8.9 7. ] [ 1.4 11.2 13.9 -11.8 -0.3 4.2 10.6 8.5 -10.3 -4.7 7. ] [ 5.8 18.5 -2.4 -7.5 8.4 -2. -10.6 -6.1 -14.2 -4. 7. ] [ 7.2 22.2 11.6 -10.7 6.7 6.4 -10. 2.7 -6.8 -0.5 7. ] [ 2.5 16. 24.9 -4. 2. 9.3 5.5 1.1 5.9 -2.9 7. ] [ -3.8 16.6 15.1 -9.3 13. 8.8 -2.7 -0.3 5.1 3.7 7. ] [ 4.3 20.2 16. -6.9 8.9 13.3 -4.2 1.6 -4.2 -6.1 7. ] [ 5.7 16.6 6.4 -9.7 11.2 3.5 -16.5 -4.2 -12.1 -7.2 7. ] [ 1.4 19.3 20.2 -7.3 4.3 12.4 0.8 4. -0.3 -3.2 7. ] [ 5.5 20.9 8.1 -7.6 12.9 8.7 -10. -5.7 -4.5 -3.9 7. ] [ 2.1 20.9 16. -5.4 4.2 7.8 -8.5 -0.6 -4.9 -2.5 7. ] [ -2.7 19.4 8.4 -5.6 12.7 13.7 -5.1 -8. 1.6 -0.7 7. ] [ 4.6 20.4 12.1 -7.4 10.5 10.3 -2.9 -2.8 -1.2 -0.4 7. ] [ 3. 17.5 -5.3 -7.4 10.4 7.1 -11.2 -19.2 -9.4 -3.2 7. ] [ 6.4 22.2 16.2 -8.2 7.3 10. -4.5 2.7 -4.5 -3.9 7. ] [ 1.6 17.7 14.9 -9.6 8.2 11.4 -7.5 -2. -3.9 -0.3 7. ] [ -2.1 18.9 21.8 -5.8 2.3 14.1 -0.3 3. 1. -7.1 7. ] [ -4. 12.9 23.6 4.6 -6.6 12.3 5.7 -2.8 5.7 -12.7 7. ] [-14.6 7.2 23.4 1.6 0.2 8.8 0.6 1.8 11.8 -12.7 7. ] [ -8. 8.4 23.1 5.9 0.6 9.8 5.2 3.1 10.1 -10.9 7. ] [ -4.1 16.2 23.4 -4.9 8.7 10.5 -1.7 1.8 3.6 -2.6 7. ] [ -0.6 17. 23.6 -4. 5.5 13.5 3. 1.1 -0.5 -4.6 7. ] [ -3.8 13.5 25.1 1.8 2.5 7.4 -3. 3.1 2.9 -1.6 7. ] [ -9.8 9.9 26.3 2. -1.2 8.8 -2. -1.6 8.9 -8.5 7. ] [ -7.7 14.6 23.8 -2.7 7.8 5.4 -1.1 4.4 2.4 -1.1 7. ] [ -5.7 12.5 26. -1.2 6.3 7. -3.4 -0.2 3.5 -1.2 7. ] [-12.7 8.2 26.5 -1.3 8.2 7.5 1.5 -0.7 13. -4.8 7. ] [ 2.4 19.9 14.5 -5.9 9.8 12. -4.4 -2.4 -1.4 -2.5 7. ] [ 2.3 16.2 14.8 -7.3 12.7 12.3 2.2 0.8 8.7 -0. 7. ] [ 2.9 21.3 5.8 -7.3 7.3 7.7 -2.2 -9.6 -0.5 3.1 7. ] [ 6.8 22.8 6.7 -2.6 7.3 12.1 -7.8 -8.9 -0.5 -1.3 7. ] [ 8.2 18.1 -1.9 -7.9 8.3 11.6 -10.1 -15.7 -2.8 0.6 7. ] [ 3.1 17.1 18.6 -6.4 10.3 13.3 5.8 -0. 6.1 1.7 7. ] [ -2.8 16.5 -8.7 -2.5 3. 11.3 -7.3 -19.7 -1.6 -2.5 7. ] [ 7.4 20.6 10.6 -3.3 10.3 12.3 3.3 -8.9 3. 1.7 7. ] [ 5.2 18.7 6.5 -0.3 5. 11.2 4.1 -8.1 3.1 2.3 7. ] [ -0.8 17.4 20.7 -9.5 7.6 19.8 -4.5 -1.3 2.3 -6.1 7. ] [ 1.2 21.3 -1.4 -0.1 7.2 11.8 -6.2 -16.5 -1.2 -0.5 7. ] [ 0. 18.6 5.5 -4.5 14.1 6.4 0.4 -12.8 8.5 6.2 7. ] [ 2.3 19.2 9.3 -1.1 7.4 11.1 0.6 -7.8 4.6 3.1 7. ] [ 7.8 20.2 5.6 -3.4 3.8 2.8 -4.2 -7.5 -10.9 0.3 7. ] [ -5.2 8.5 16.5 -10.3 7.4 4.3 7.1 3.4 0.6 10.7 7. ] [ 3.1 13.9 5.6 -9.4 4.2 -0.8 5.3 6.3 5.9 8.2 7. ] [ -0.3 13.1 18.4 -10.1 3.3 7. 8.1 5.7 -1.1 6.8 7. ] [ -3.5 14.8 9.1 -11.6 7.7 5.8 -3.2 2.8 5.2 6.3 7. ] [ -2.8 12.8 19.7 -6.3 3.2 10.8 10.9 5.1 7.1 -2.2 7. ] [ -2.4 12.7 10.1 -10.3 5.2 4.3 -1.7 5.4 7.6 5.5 7. ] [ -0.6 14. 16. -10.4 8.5 4.3 7.6 8.1 7.6 3.5 7. ] [ 2.6 17.7 14.2 -6.4 9.7 12.2 -0.3 -1.5 4.6 4.3 7. ] [ -5.4 14.1 15.9 -5.7 10.3 1.9 4.8 4.6 6. 5.8 7. ] [ -3.3 12.3 16.7 -12.8 5. 7.1 5. 7. 4.8 6.4 7. ] [ 1.5 15. 12.5 -13.6 6.7 11. -2.5 2.5 5.2 6.7 7. ] [ -1.3 14.2 12.2 -9.3 4.2 7.1 3. 4.1 -1.4 10.4 7. ] [ 5.4 18.3 9.5 -10.8 8.7 12.7 -4.4 -0.6 -2.8 3.6 7. ] [ 0. 16. 13.2 -11.3 9.6 11.4 0.1 4.9 5.1 4.9 7. ] [ 1.3 14.5 7.1 -12.3 8. 15.2 -6.3 1. 1.2 -4.5 7. ] [ 5. 15.3 6.1 -12. 12.1 10. -1.7 5.2 6.7 -5.8 7. ] [ 3. 14.8 7.7 -10.3 4.9 9.4 1.6 -0.4 -3.4 5.3 7. ] [ 5.6 15.2 5.6 -11.4 6.9 14.8 -7.6 -1.5 5.8 -7.7 7. ] [ 3.8 19.8 -1.5 -15.1 7.7 -0.7 -11.3 3.5 3.4 -5.2 7. ] [ 4.5 15.9 5.5 -12.9 7.2 5.2 -11.1 -2.2 -10.9 -0.9 7. ] [ -2.3 15.3 -0.8 -9.8 4.1 -1.9 -14. -2.1 7.2 -3.5 7. ] [ -1.5 15.8 6.8 -13.5 5.4 9.7 -5.9 2.8 4.7 5. 7. ] [ 7.7 19.5 11.8 -17.1 8.5 10.4 -6.7 1.2 -3.4 0.1 7. ] [ 2.2 14.9 2.9 -10.9 3.2 8.7 -13.1 -4. -3.8 0.8 7. ] [ 7.4 18.1 3.8 -11.8 6.6 10.3 -5.5 1.2 -2.8 0.2 7. ] [ 7. 19. 10.3 -9.7 6.7 7.2 -15.5 -0.8 -7.5 -7.5 7. ] [ 1.4 17. 16.6 -12. 10.7 18.7 -2.3 1.3 4.1 -5.3 7. ] [ 0.6 15.9 23.3 -7.7 -3. 12.6 0.5 2.5 2. -4. 7. ] [ 5.9 16.7 5.8 -8.7 13.6 7.1 -17.2 -8.7 -3.9 -11.1 7. ] [ 6. 20. 9.8 -12.1 10.8 9.4 -13.1 -1. -2.6 -6.7 7. ] [ 1.8 20.6 9.2 -9.4 10.5 11.1 -6.9 -1.2 -4.5 -1.4 7. ] [ 4.3 19. 10.5 -7.2 4. 7. -11.2 2.5 -11.6 -6.4 7. ] [ 8. 17.1 6.5 -9.9 10.3 7. -18.2 -6.6 -5.7 -5.9 7. ] [ 2.7 17. -0.1 -6.5 7. 7.6 -13.6 -15.2 -11.6 -4.6 7. ] [ 2.2 18.7 3.4 -8.5 9.4 9. -3.5 -7.4 -4.6 3. 7. ] [ 8.9 17.1 6.3 -9.5 3.8 0. -17.1 -0.2 -11. -10.9 7. ] [ 0.8 18.8 21.1 -9.2 2.7 13.3 -1.3 -0.3 2.3 -4.7 7. ] [ 7.5 21.3 16.7 -10.2 -0.1 12.3 -2.6 -3. -3.7 -11.5 7. ] [ 4.6 18.5 -0.1 -8.7 12.2 4. -16.7 -11.9 -5.8 -2.2 7. ] [ 8.9 17.2 17.2 -10.4 7.4 14.6 5.6 -0.7 2.3 -1.2 7. ] [ 12.7 18.4 12.3 -10.9 9.1 15.9 -1.5 -3.6 0.3 -7.4 7. ] [ 9.1 13. 19.4 -8.8 4.9 12. 9.6 2. 3.1 3.5 7. ] [ 12.7 16. 10. -8.6 8. 12.1 4.6 -6.4 -4. -3.2 7. ] [ 10. 19.2 10.7 -9.7 12.9 16. -5.6 -4.6 2.4 -1. 7. ] [ 6.3 19.1 9.8 -8.9 7.9 3.2 -9.7 -8.5 -10.5 4. 7. ] [ 8.4 20.5 10.5 -11.8 6.7 8. -11.7 -3.7 -5.1 -2.8 7. ] [ 1.5 18.5 -7.4 -6.9 10.4 11.9 -8.1 -20. -1.4 -3.4 7. ] [ -0. 15.4 14.3 -9.7 10.6 8.4 2.8 2.9 2.4 8.1 7. ] [ 2.8 17.5 1.6 -12.7 12.9 8.2 -7.1 -10. -3. 7.6 7. ] [ -0.7 15. 19. -9.1 7.9 6.1 -0. 3.4 4.7 5. 7. ] [ 6.7 18.2 12.6 -7.1 6. 9.6 -1.5 0.1 -7.4 -0.4 7. ] [ -5.9 10.9 20.2 -7.7 2. 9.8 6.2 7.1 4.7 1.5 7. ] [ -1.7 10.4 26.9 -5.4 -2.8 8.1 10. 6.9 1.8 1. 7. ] [ -2.5 12.9 20.4 -10.9 1. 10.8 8.4 6.7 2.8 4.1 7. ] [ 3. 14.8 18.1 -9.8 5.3 11.3 3.2 4.8 0.6 7. 7. ] [ -5.5 9.5 15.6 -5.2 2.5 3.7 8.1 2.8 -1.3 10.2 7. ] [ -6.3 11.3 22.8 -5.2 -2.8 12.5 15.8 2.1 8.2 -8.2 7. ] [ 0.9 16.8 18.7 -6.4 6. 12.3 6.8 2.9 7. 0. 7. ] [ 4.6 11.2 19.4 -7.8 4.8 10.8 7.2 2. -3.6 6.3 7. ] [ 1.5 13.6 15.9 -7.2 7.6 9.2 8.2 4.3 6.8 4.7 7. ] [ 2.4 11.7 19.7 -9.7 4.3 12.3 6.9 4. -0.7 4.7 7. ] [ -1.7 8.3 20.7 -9.8 -2.3 4. 10.3 7.4 -1.4 6.8 7. ] [ 0.4 13.1 23.1 -4.2 3.1 10.7 11.8 2.2 2.8 -1.9 7. ] [ -2.4 10.4 21.8 -7.5 2.5 4.2 11.9 6.5 3.5 5.2 7. ] [ 7.2 18.7 -9.8 -6. 7.1 -7.2 -13.4 -6.1 -11.6 -6.7 7. ] [ 8.1 21.4 -0.7 -4.9 8.4 -2.7 -8.4 -3.9 -12.2 -0.3 7. ] [ -0.2 17.9 8. -7. 17.6 12.6 -10.2 -5.7 2.8 -4.9 7. ] [ 3.2 14.7 -4.4 -6.3 13.9 1.4 -19.2 -16.8 -7.1 -5.3 7. ] [ -6.4 8. -6.3 -5.7 6.5 0.7 -18.1 -18.9 -10.2 -14.6 7. ] [ 7.1 16.9 -4.9 -8.8 12. 5.7 -15.2 -17. -5.6 -4.2 7. ] [ -0. 17.9 2.8 -8.7 15.1 3.8 -13.9 -8.4 -5.6 -0.8 7. ] [ -1.5 14.1 -11.2 -7.8 7. 6.3 -12. -19.3 -0.4 0.4 7. ] [ 9.2 15.9 0.5 -10.6 14.7 -2.6 -21.6 -6.4 -8.2 -3.9 7. ] [ -8.6 18.3 11. -4. 15.3 3.5 -2.3 -3.6 0.4 7.8 7. ] [ -4.5 19.2 0.4 -7.2 18.9 1.5 -7.4 -9.4 -4.7 8. 7. ] [ 2.2 13.3 -1.3 -9.5 14. 2.4 -16.5 -10.3 0.9 -2.2 7. ] [ 3. 21.8 14.5 -7.7 10. 10. -10. -1.9 -2.8 1. 7. ] [ -8.7 13.3 21.8 -7.2 12.6 8.9 -0.4 -2.2 11.1 2.5 7. ] [ 0. 23.1 15. -6.9 9.4 6.3 -9.7 0.7 -5.3 -0.3 7. ] [ -4.7 14.4 18.5 -8.7 14.1 10.8 4.1 2.4 14.7 -1.9 7. ] [ -3.8 15.9 26. -3. 3.4 9.7 -1.7 2.3 5.7 -1. 7. ] [ -4.5 18.1 7.4 -8.5 17.4 9.3 -6. -7.6 2.9 4.4 7. ] [ -4.3 17.3 7.1 3.6 17.9 0.2 3.9 -7. 10.7 4.1 7. ] [-11. 15.8 -4.1 -3.7 10.3 5.9 -11.9 -18.5 -3.1 2.7 7. ] [-12.7 19. 1.9 2.4 11. 7.7 -3.8 -14.4 3.2 2.5 7. ] [ 0.6 20.8 14.6 -5.4 9.9 12.5 1.6 1.8 1.7 -2.9 7. ] [ 3.1 23.7 4.3 -2.7 10. 4.7 -9.8 -8.4 -10.2 0.8 7. ] [ -3.3 19.4 19.4 -7.1 8.9 17.8 -2.2 2.5 1. -7.8 7. ] [ -3.9 18.7 1.2 -6.1 12.4 7.7 -8.8 -17.8 -3.5 6.3 7. ]] In [33]: def plot_pca_scatter (): colors = [ 'black' , 'blue' , 'purple' , 'yellow' , 'white' , 'red' , 'lime' , 'cyan' , 'orange' , 'gray' ] for i in xrange ( len ( colors )): px = X_pca [:, 0 ][ y_digits == i ] py = X_pca [:, 1 ][ y_digits == i ] plt . scatter ( px , py , c = colors [ i ]) plt . legend ( digits . target_names ) plt . xlabel ( 'First Principal Component' ) plt . ylabel ( 'Second Principal Component' ) plot_pca_scatter () plt . show () In [112]: def print_pca_components ( images , n_col , n_row ): plt . figure ( figsize = ( 2. * n_col , 2.26 * n_row )) for i , comp in enumerate ( images ): print i , comp . shape plt . subplot ( n_row , n_col , i + 1 ) plt . imshow ( comp . reshape (( 8 , 8 )), interpolation = 'nearest' ) plt . text ( 0 , - 1 , str ( i + 1 ) + '-component' ) plt . xticks (()) plt . yticks (()) print_pca_components ( estimator . components_ [: n_components ], n_col , n_row ) #print_pca_components(images, 5, 2) 0 (64,) 1 (64,) 2 (64,) 3 (64,) 4 (64,) 5 (64,) 6 (64,) 7 (64,) 8 (64,) 9 (64,) In [109]: def plot_gallery ( data , labels , shape , interpolation = 'nearest' ): plt . figure ( figsize = ( 4. * n_col , 2.26 * n_row )) for i in range ( data . shape [ 0 ]): plt . subplot ( 2 , data . shape [ 0 ], ( i + 1 )) plt . imshow ( data [ i ] . reshape ( shape ), interpolation = interpolation ) plt . title ( labels [ i ]) plt . xticks (()), plt . yticks (()) labels = [ 'Component # %d ' % i for i in range ( len ( estimator . components_ ))] print estimator . components_ . shape plot_gallery ( estimator . components_ , labels , shape = ( 8 , 8 )) (10, 64) In [ ]: if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var mathjaxscript = document.createElement('script'); mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: 'center',\" + \" displayIndent: '0em',\" + \" showMathMenu: true,\" + \" tex2jax: { \" + \" inlineMath: [ ['$','$'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }\" + \" } \" + \"}); \"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"PCA","title":"PCA scikit-learn"},{"url":"http://sb2gh.github.io/orm-alchemy.html","text":"ORM Definition Object Relational Mapping is a programming technique to access and manipulate objects without having to consider how those objects relate to their data sources. An ORM is a library (available in many languages) that encapsulates code needed to manipulate data. As a result, \"raw\" SQL is not use anymore and the user interacts directly with objects. Advantages DRY: data model is written in one place making it easier to update and maintain code. Allow the automation of various checks Reduce possibility of sql injections CRUD operations are made to be simpler than with sql directly. Join queries are simpler. Concurrency support, cache management, transaction management and isolation. Disadvantages Not lightweight and set-up. Performance SQLAlchemy It is a python ORM. From http://www.sqlalchemy.org/ : SQL databases behave less like object collections the more size and performance start to matter; object collections behave less like tables and rows the more abstraction starts to matter. SQLAlchemy aims to accommodate both of these principles. SQLAlchemy considers the database to be a relational algebra engine, not just a collection of tables. Rows can be selected from not only tables but also joins and other select statements; any of these units can be composed into a larger structure. SQLAlchemy's expression language builds on this concept from its core. SQLAlchemy is most famous for its object-relational mapper (ORM), an optional component that provides the data mapper pattern, where classes can be mapped to the database in open ended, multiple ways - allowing the object model and database schema to develop in a cleanly decoupled way from the beginning. http://www.sqlalchemy.org/features.html from Essential SqlAlchemy: SQLAlchemy also provides a lot of flexibility by supplying two major modes of usage: SQL Expression Language (commonly referred to as Core) and ORM. These modes can be used separately or together depending on your preference and the needs of your application. Connect to database: Need to create engine sqlite from sqlalchemy import create_engine engine = create_engine ( 'sqlite:///cookies.db' ) engine2 = create_engine ( 'sqlite:///:memory:' ) engine3 = create_engine ( 'sqlite:////home/cookiemonster/cookies.db' ) engine4 = create_engine ( 'sqlite:///c: \\\\ Users \\\\ cookiemonster \\\\ cookies.db' ) postgresql from sqlalchemy import create_engine engine = create_engine ( 'postgresql+psycopg2://username:password@localhost:5432/mydb' ) mysql from sqlalchemy import create_engine engine = create_engine ( 'mysql+pymysql://cookiemonster:chocolatechip' '@mysql01.monster.internal/cookies' , pool_recycle = 3600 ) To be continued...","tags":"ORM","title":"ORM and SQLAlchemy"},{"url":"http://sb2gh.github.io/virtualenv.html","text":"Virtualenv Virtualenv allows the creation of different python projects with each different requirement. Some of these requirements can conflict between each other. Virtualenv solves these problems by allowing the user to create specific python environment for each project. Set up: Download: pip install virtualenv Log into project folder: cd ~/proj Create virtualenv (python executable + pip): virtualenv venv Start using virtual env: source env/bin/activate ~/proj/env/bin/pip freeze > ~/proj/requirements.txt (this will allow anyone to recreate the virtual env easily by running: pip install –r requirements.txt) Notes: you can also specify the python interpreter: virtualenv –p /usr/bin/bython2.7 venv you should also exclude the virtual env folder from your source control by adding this folder to the ignore file (i.e., \".gitignore\") Virtualenvwrapper virtualenvwrapper simplify the use of virtual environments. All the virtual environments will be stored in the same folder. Install virtualenvwrapper: pip install virtualenvwrapper Create folder where all virtual environments will be stored: export WORKON_HOME=~/VirtEnvs Reload: source /usr/local/bin/virtualenvwrapper.sh Create a new environment: mkvirtualenv venv-test Remove virtual env: rmvirtualenv venv-test List all of the venvs: lsvirtualenv Go to directory of current venv: cdvirtualenv Show contents of site-packages directory: lssitepackages If install from requirements to continue if a package fails: cat requirements.txt | while read PACKAGE; do pip install \"$PACKAGE\"; done References http://docs.python-guide.org/en/latest/dev/virtualenvs/ https://virtualenvwrapper.readthedocs.io/en/latest/","tags":"virtualenv","title":"Virtualenv and virtualenvwrapper"}]}